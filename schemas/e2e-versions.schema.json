{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://github.com/haex-space/haex-e2e-tests/schemas/e2e-versions.schema.json",
  "title": "E2E Test Versions Configuration",
  "description": "Konfiguration f端r E2E-Tests: Definiert, gegen welche Versionen anderer Services getestet werden soll",
  "type": "object",
  "properties": {
    "$schema": {
      "type": "string",
      "description": "JSON Schema Referenz"
    },
    "project": {
      "type": "string",
      "description": "Name des Projekts (z.B. haex-vault, haextension)",
      "enum": ["haex-vault", "haextension", "vault-sdk", "haex-sync-server"]
    },
    "dependencies": {
      "type": "object",
      "description": "Versionen der Dependencies f端r E2E-Tests",
      "properties": {
        "haex-vault": {
          "$ref": "#/$defs/versionSpec"
        },
        "haextension": {
          "$ref": "#/$defs/versionSpec"
        },
        "vault-sdk": {
          "$ref": "#/$defs/versionSpec"
        },
        "haex-sync-server": {
          "$ref": "#/$defs/versionSpec"
        }
      },
      "additionalProperties": false
    },
    "profiles": {
      "type": "object",
      "description": "Alternative Versionsprofile (z.B. f端r verschiedene Branches)",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "haex-vault": {
            "$ref": "#/$defs/versionSpec"
          },
          "haextension": {
            "$ref": "#/$defs/versionSpec"
          },
          "vault-sdk": {
            "$ref": "#/$defs/versionSpec"
          },
          "haex-sync-server": {
            "$ref": "#/$defs/versionSpec"
          }
        },
        "additionalProperties": false
      }
    }
  },
  "required": ["project", "dependencies"],
  "$defs": {
    "versionSpec": {
      "type": "string",
      "description": "Git-Referenz: Branch-Name, Tag (z.B. v1.0.0), Commit-SHA, oder 'self' f端r das aktuelle Projekt",
      "examples": ["main", "v1.2.0", "feat/new-feature", "abc1234def", "self"]
    }
  }
}
